import{f as b,a as c,c as ie}from"./z1_h_S-m.js";import{i as de}from"./CKvl8f00.js";import{p as ce,h as be,aB as he,s as f,m as J,l as me,g as a,j as ge,k as xe,q as _e,f as te,c as r,r as t,n as ue,b as x,t as D,a as ve,e as re,o as we}from"./DO95TrpH.js";import{e as m,s as G}from"./DePN81sB.js";import{i as S}from"./i89i58Dp.js";import{e as oe,i as se}from"./KzdxLMOR.js";import{r as ye,s as ke}from"./B0rVqcg2.js";import{s as le}from"./DPUg7jpB.js";import{b as Ce}from"./CoGRtSRs.js";import{s as ne}from"./Bfc47y5P.js";import{b as fe}from"./D4Kux6hx.js";import{p as y}from"./BytzElXY.js";import{g as ae}from"./BvPgAsJ_.js";import{a as Be,b as Me}from"./VlzhU-cE.js";var Le=b('<span class="text-gray-400"> </span>'),Pe=b('<span class="bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs flex items-center gap-1"> <span class="cursor-pointer ml-1">&times;</span></span>'),De=b('<span class="ml-2 text-blue-600">&#10003;</span>'),Se=b('<button type="button"><span> </span> <!></button>'),je=b('<div class="px-3 py-2 text-sm text-gray-500">No options found</div>'),Ee=b('<div class="absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg"><div class="p-2 border-b border-gray-200"><input type="text" class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"/></div> <div class="max-h-60 overflow-auto"></div></div>'),Ue=b('<div class="fixed inset-0 z-0"></div>'),ze=b('<div class="relative"><button type="button"><span class="flex flex-wrap gap-1"><!></span> <span class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></span></button> <!></div> <!>',1);function et(Q,d){ce(d,!1);const R=J();let j=y(d,"options",24,()=>[]),h=y(d,"values",28,()=>[]),E=y(d,"placeholder",8,"Select options..."),V=y(d,"searchPlaceholder",8,"Search..."),H=y(d,"disabled",8,!1),k=y(d,"group",8,"");const T=be();let u=J(!1),_=J("");const p=he("dropdownGroup");p&&k()&&p.openDropdown.subscribe(e=>{e!==k()&&(f(u,!1),f(_,""))});function X(){H()||(a(u)?(f(u,!1),p&&k()&&p.openDropdown.set(null)):(f(u,!0),p&&k()&&p.openDropdown.set(k()),f(_,"")))}function q(e){e.key==="Escape"&&(f(u,!1),f(_,""),p&&k()&&p.openDropdown.set(null))}function W(e){h().includes(e.value)||(h([...h(),e.value]),T("change",{values:h()}))}function A(e){h(h().filter(s=>s!==e.value)),T("change",{values:h()})}function U(e){return h().includes(e.value)}me(()=>(ge(j()),a(_)),()=>{f(R,j().filter(e=>e.label.toLowerCase().includes(a(_).toLowerCase())))}),xe(),de();var F=ze();m("keydown",_e,q);var K=te(F),C=r(K),N=r(C),Y=r(N);{var Z=e=>{var s=Le(),B=r(s,!0);t(s),D(()=>G(B,E())),c(e,s)},$=e=>{var s=ie(),B=te(s);oe(B,1,h,se,(w,P)=>{var o=ie(),l=te(o);{var v=M=>{var L=Pe(),I=r(L),ee=x(I);t(L),D(g=>G(I,`${g??""} `),[()=>j().find(g=>g.value===a(P)).label],re),m("click",ee,ne(()=>A(j().find(g=>g.value===a(P))))),c(M,L)};S(l,M=>{j().find(L=>L.value===a(P))&&M(v)})}c(w,o)}),c(e,s)};S(Y,e=>{h().length===0?e(Z):e($,!1)})}t(N),ue(2),t(C);var n=x(C,2);{var i=e=>{var s=Ee(),B=r(s),w=r(B);ye(w),t(B);var P=x(B,2);oe(P,5,()=>a(R),se,(o,l)=>{var v=Se(),M=r(v),L=r(M,!0);t(M);var I=x(M,2);{var ee=g=>{var pe=De();c(g,pe)};S(I,g=>{U(a(l))&&g(ee)})}t(v),D(g=>{le(v,1,`w-full px-3 py-2 text-left text-sm hover:bg-blue-50 focus:bg-blue-50 focus:outline-none ${g??""}`),G(L,a(l).label)},[()=>U(a(l))?"bg-blue-100 text-blue-900":"text-gray-900"],re),m("click",v,()=>U(a(l))?A(a(l)):W(a(l))),c(o,v)},o=>{var l=je();c(o,l)}),t(P),t(s),D(()=>ke(w,"placeholder",V())),Ce(w,()=>a(_),o=>f(_,o)),m("click",w,ne(function(o){fe.call(this,d,o)})),c(e,s)};S(n,e=>{a(u)&&e(i)})}t(K);var z=x(K,2);{var O=e=>{var s=Ue();m("click",s,()=>{f(u,!1),f(_,""),p&&k()&&p.openDropdown.set(null)}),c(e,s)};S(z,e=>{a(u)&&e(O)})}D(()=>{le(C,1,`w-full px-3 py-2 text-left border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${H()?"bg-gray-100 cursor-not-allowed":"cursor-pointer hover:border-gray-400"}`),C.disabled=H()}),m("click",C,X),c(Q,F),ve()}var Oe=b('<button class="text-primary-600 hover:text-primary-700" title="Go Back"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg></button>'),Ge=b('<div class="absolute right-0 mt-2 w-48 bg-white border border-gray-200 shadow-lg rounded-md py-1 z-20"><button class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Change Password</button></div>'),He=b("<span> </span>"),qe=b('<div class="flex items-center space-x-4"><div class="relative"><button class="text-sm text-gray-700 hover:underline focus:outline-none"> <svg class="w-4 h-4 inline-block ml-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5.793 7.793a1 1 0 011.414 0L10 10.586l2.793-2.793a1 1 0 011.414 1.414l-3.5 3.5a1 1 0 01-1.414 0l-3.5-3.5a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button> <!></div> <div class="flex space-x-1"></div> <button class="btn-secondary text-sm">Logout</button></div>'),Ae=b('<nav class="bg-white shadow-sm border-b border-gray-200"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between h-16"><div class="flex items-center space-x-4"><!> <button class="text-primary-600 hover:text-primary-700" title="Go to Dashboard"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg></button> <h1 class="text-xl font-semibold text-gray-900"> </h1></div> <!></div></div></nav>');function tt(Q,d){ce(d,!1);let R=y(d,"title",8),j=y(d,"showBackButton",8,!0),h=y(d,"backUrl",8,"/dashboard"),E=y(d,"user",8,null);async function V(){await Be.logout(),ae("/auth/login")}function H(n){const i=[];return n.is_admin&&i.push("Admin"),n.is_lead&&i.push("Lead"),n.is_coach&&i.push("Coach"),i.length>0?i:["User"]}function k(){window.history.length>1?window.history.back():ae(h())}function T(){ae("/dashboard")}let u=J(!1);function _(){f(u,!a(u))}function p(){f(u,!1)}we(()=>(window.addEventListener("click",p),()=>window.removeEventListener("click",p)));async function X(){if(!E())return;const n=window.prompt("Enter your new password:");if(n)try{await Me.changeUserPassword(E().id,n),alert("Password changed successfully")}catch(i){console.error(i),alert("Failed to change password. Please try again.")}finally{f(u,!1)}}de();var q=Ae(),W=r(q),A=r(W),U=r(A),F=r(U);{var K=n=>{var i=Oe();m("click",i,k),c(n,i)};S(F,n=>{j()&&n(K)})}var C=x(F,2),N=x(C,2),Y=r(N,!0);t(N),t(U);var Z=x(U,2);{var $=n=>{var i=qe(),z=r(i),O=r(z),e=r(O);ue(),t(O);var s=x(O,2);{var B=o=>{var l=Ge(),v=r(l);t(l),m("click",v,X),c(o,l)};S(s,o=>{a(u)&&o(B)})}t(z);var w=x(z,2);oe(w,5,()=>H(E()),se,(o,l)=>{var v=He(),M=r(v,!0);t(v),D(L=>{le(v,1,`badge badge-${L??""}`),G(M,a(l))},[()=>a(l).toLowerCase()],re),c(o,v)}),t(w);var P=x(w,2);t(i),D(()=>G(e,`Welcome, ${E().name??""} `)),m("click",O,_),m("click",z,ne(function(o){fe.call(this,d,o)})),m("click",P,V),c(n,i)};S(Z,n=>{E()&&n($)})}t(A),t(W),t(q),D(()=>G(Y,R())),m("click",C,T),c(Q,q),ve()}export{tt as H,et as M};
