import{E as v,I as s,a3 as _,a4 as d,G as c}from"./DO95TrpH.js";import{l as m}from"./DePN81sB.js";function l(e,r,u){if(e.multiple)return r==null?void 0:s(r)?p(e,r):_();for(var i of e.options){var n=t(i);if(d(n,r)){i.selected=!0;return}}(!u||r!==void 0)&&(e.selectedIndex=-1)}function b(e,r){let u=!0;v(()=>{r&&l(e,c(r),u),u=!1;var i=new MutationObserver(()=>{var n=e.__value;l(e,n)});return i.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{i.disconnect()}})}function h(e,r,u=r){var i=!0;m(e,"change",n=>{var a=n?"[selected]":":checked",f;if(e.multiple)f=[].map.call(e.querySelectorAll(a),t);else{var o=e.querySelector(a)??e.querySelector("option:not([disabled])");f=o&&t(o)}u(f)}),v(()=>{var n=r();if(l(e,n,i),i&&n===void 0){var a=e.querySelector(":checked");a!==null&&(n=t(a),u(n))}e.__value=n,i=!1}),b(e)}function p(e,r){for(var u of e.options)u.selected=r.includes(t(u))}function t(e){return"__value"in e?e.__value:e.value}export{h as b,b as i,l as s};
