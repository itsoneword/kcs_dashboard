import{f as l,a as o}from"../chunks/z1_h_S-m.js";import{i as x}from"../chunks/CKvl8f00.js";import{p as y,s as E,aA as M,g as s,a as T,m as D,c as i,b as a,r as n,t as G}from"../chunks/DO95TrpH.js";import{s as H,e as L}from"../chunks/DePN81sB.js";import{i as v}from"../chunks/i89i58Dp.js";import{s as P,a as Y}from"../chunks/DXMp_b0k.js";import{p as j}from"../chunks/CLGsUtju.js";var q=l('<div class="error-message svelte-66ac1v"><strong>Error:</strong> </div>'),z=l('<div class="reload-warning svelte-66ac1v"><p>Multiple reload attempts detected. Your authentication data has been cleared to prevent further issues.</p></div>'),B=l('<button class="btn-secondary svelte-66ac1v">Try Again with Debug Mode</button>'),C=l('<div class="login-error-container svelte-66ac1v"><div class="login-error-content svelte-66ac1v"><h1 class="svelte-66ac1v">Login Page Error</h1> <p>There was an error loading the login page.</p> <!> <!> <!> <div class="error-actions svelte-66ac1v"><a href="/" class="btn-primary svelte-66ac1v">Go to Home</a> <!></div></div></div>');function U(u,h){y(h,!1);const[b,$]=P(),d=()=>Y(j,"$page",b);let r=D(0);{const e=sessionStorage.getItem("login_reload_attempts");E(r,e?parseInt(e,10):0),M(r),sessionStorage.setItem("login_reload_attempts",s(r).toString()),s(r)>3&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user"))}x();var c=C(),m=i(c),p=a(i(m),4);{var I=e=>{var t=q(),k=a(i(t));n(t),G(()=>H(k,` ${d().error.message??""}`)),o(e,t)};v(p,e=>{var t;(t=d().error)!=null&&t.message&&e(I)})}var g=a(p,2);{var S=e=>{var t=z();o(e,t)};v(g,e=>{s(r)>3&&e(S)})}var _=a(g,2);v(_,e=>{});var f=a(_,2),w=a(i(f),2);{var A=e=>{var t=B();L("click",t,()=>{sessionStorage.setItem("login_reload_attempts","0"),window.location.href="/login?debug=true"}),o(e,t)};v(w,e=>{s(r)<=5&&e(A)})}n(f),n(m),n(c),o(u,c),T(),$()}export{U as component};
